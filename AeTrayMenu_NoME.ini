[Config]
ImageList=Examples/Example1/images.bmp
TrayIconAllRunning=0
TrayIconSomeRunning=0
TrayIconNoneRunning=0

[StartWebServer]
Action: run; FileName: "powershell"; WorkingDir: "../php"; Parameters: "(Get-Content php.ini) -replace 'sys_temp_dir =.*', ('sys_temp_dir = ' + [char]34 + (Get-Location) + '\tmp' + [char]34) | Set-Content php.ini";  ShowCmd: hidden; Flags: waituntilterminated
Action: run; FileName: "../apache/bin/httpd.exe"; ShowCmd: hidden

[StopWebServer]
Action: run; FileName: "taskkill.exe"; Parameters: "/f /im php-cgi.exe"; ShowCmd: hidden;
Action: run; FileName: "taskkill.exe"; Parameters: "/im httpd.exe"; ShowCmd: hidden;

[StartDatabaseServer]
Action: run; FileName: "..\mariadb\bin\mysqld.exe"; ShowCmd: hidden

[StopDatabaseServer]
Action: run; FileName: "..\mariadb\bin\mysqladmin.exe"; Parameters: "-u root shutdown"; ShowCmd: hidden

[StartupAction]
Action: multi; Actions: StartWebServer
Action: multi; Actions: StartDatabaseServer

[DoubleClickAction]
Action: shellexecute; FileName: "http://localhost"

[Menu.Right]
Type: item; Caption: "Web Server"; Action: multi; Actions: StartWebServer; Glyph: 13
Type: item; Caption: "Web Server";  Action: multi; Actions: StopWebServer; Glyph: 15
Type: separator
Type: item; Caption: "Database Server"; Action: multi; Actions: StartDatabaseServer; Glyph: 13
Type: item; Caption: "Database Server";  Action: multi; Actions: StopDatabaseServer; Glyph: 15
Type: separator
Type: item; Caption: "Web Root"; Action: shellexecute; FileName: "%AeTrayMenuPath%../../www"; Glyph: 3
Type: separator
Type: item; Caption: "Web Root (shell)"; Action: run; FileName: "%Cmd%"; WorkingDir: "../../www"; Glyph: 5
Type: separator
Type: item; Caption: "phpMyAdmin"; Action: shellexecute; FileName: "http://localhost/phpmyadmin/"; Glyph: 7
Type: separator
Type: item; Caption: "Quit"; Action: multi; Actions: Quit

[Quit]
Action: multi; Actions: StopWebServer
Action: multi; Actions: StopDatabaseServer
Action: exit